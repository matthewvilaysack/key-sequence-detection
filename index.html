<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Drum-Kit... DING!</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div class="bg"></div>
		<div class="user_input"></div>
		<div class="cheat_message"></div>
		<div class="keys">
			<div data-key="67" class="key">
				<kbd>C</kbd>
				<span class="sound">Guess</span>
			</div>
			<div data-key="65" class="key">
				<kbd>A</kbd>
				<span class="sound">The</span>
			</div>
			<div data-key="76" class="key">
				<kbd>L</kbd>
				<span class="sound">Doggo's</span>
			</div>
			<div data-key="73" class="key">
				<kbd>I</kbd>
				<span class="sound">Name</span>
			</div>
		</div>

		<audio data-key="67" src="sounds/clap.wav"></audio>
		<audio data-key="65" src="sounds/kick.wav"></audio>
		<audio data-key="76" src="sounds/snare.wav"></audio>
		<audio data-key="73" src="sounds/hihat.wav"></audio>

		<audio data-key="ding" src="sounds/ding.mp3"></audio>
		<script src="scripts.js"></script>
		<script>
			function play(e) {
				const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`)
				const key = document.querySelector(`div[data-key="${e.keyCode}"]`)
				if (!audio) return
				audio.currentTime = 0
				audio.volume = 0.02
				audio.play()
				key.classList.add('playing')
			}
			function removeTransition(e) {
				if (e.propertyName !== 'transform') {
					e.target.classList.remove('playing')
				}
			}

			const keys = [...document.querySelectorAll('.key')]
			keys.forEach(key => key.addEventListener('transitionend', removeTransition))
			window.addEventListener('keydown', play)
		</script>
	</body>
</html>
